<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<HTML><HEAD><TITLE>Manpage of NPSYNC</TITLE>
</HEAD><BODY>
<H1>NPSYNC</H1>
Section: User Commands (1)<BR>Updated: 2015<BR><A HREF="#index">Index</A>
<A HREF="/man/man2html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>ИМЯ</H2>

npsync - синхронизация файлов и директорий
<A NAME="lbAC">&nbsp;</A>
<H2>ОБЗОР</H2>

<P>

<B>npsync</B> [<I>ОПЦИЯ</I>]... <I>ИСТОЧНИК</I>... <I>НАЗНАЧЕНИЕ</I>
<A NAME="lbAD">&nbsp;</A>
<H2>ОПИСАНИЕ</H2>

<P>

<B>npsync</B> синхронизирует <I>ИСТОЧНИК</I>(и) и <I>НАЗНАЧЕНИЕ</I> в хранилищах с не-POSIX интерфейсом.
<P>

<I>ИСТОЧНИК</I>(и) и <I>НАЗНАЧЕНИЕ</I> должны существовать (смотри исключение в описании типа хранилища `<A HREF="npsync://').">npsync://').</A>
Копия <I>ИСТОЧНИК</I>а всегда является содержимым <I>НАЗНАЧЕНИ</I>я.
Для печати доступных интерфейсов хранилищ используйте опцию <B>-h</B>.
<P>

Интерфейсные утилиты, используемые для доступа к хранилищам, запускаются через утилиту <I>timeout</I>.
Сигнал SIGTERM посылается через 10 минут работы утилиты, сигнал SIGKILL посылается через 15 минут работы утилиты по часам реального времени.
<A NAME="lbAE">&nbsp;</A>
<H2>ОПЦИИ</H2>

<P>

<DL COMPACT>
<DT><B>-a</B><DD>
Режим архивации, эквивалентно набору опций
<BR>

`-r -c -d mtime,size'.
<DT><B>--aux-npsync</B> <I>FILE</I><DD>
Использовать исходные атрибуты и контрольные суммы, хранимые во вспомогательном каталоге <I>FILE</I> вместо хранилища.
Атрибуты и контрольные суммы хранилища используются, если отсутствуют в каталоге.
<DT><B>-c</B><DD>
Эквивалентно набору опций `--create-dirs --create-files'.
<DT><B>--copied</B> <I>ФАЙЛ</I><DD>
Эквивалентно набору опций `--copied-dirs FILE --copied-files FILE'.
<DT><B>--copied-dirs</B> <I>FILE</I><DD>
Добавлять в <I>ФАЙЛ</I> имена исходных директорий, копируемых в <I>НАЗНАЧЕНИЕ</I>.
<DT><B>--copied-files</B> <I>FILE</I><DD>
Добавлять в <I>ФАЙЛ</I> имена исходных файлов, копируемых в <I>НАЗНАЧЕНИЕ</I>.
<DT><B>--create-dirs</B><DD>
Создавать отсутствующие директории <I>НАЗНАЧЕНИ</I>я, существующие в <I>ИСТОЧНИК</I>е.
<DT><B>--create-files</B><DD>
Создавать отсутствующие файлы <I>НАЗНАЧЕНИ</I>я, существующие в <I>ИСТОЧНИК</I>е.
<DT><B>-d</B> <I>КРИТЕРИЙ</I><DD>
Установить критерий различия между файлами <I>ИСТОЧНИК</I>а и <I>НАЗНАЧЕНИ</I>я.
<I>КРИТЕРИЙ</I> представляется как список служебных слов, разделённых запятыми (без пробелов): <I>mtime</I>, <I>size</I>, <I>cks</I>.
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>  * <I>mtime</I><DD>
старее ли время изменения файла <I>НАЗНАЧЕНИ</I>я.
<DT>  * <I>size</I><DD>
равны ли размеры файлов. Если время изменения сравнивалось, то размер сравнивается только в случае равенства mtime.
<DT>  * <I>cks</I><DD>
равны ли контрольные суммы файлов.
</DL>
</DL>

<DT><DD>
Список по умолчанию пуст и файлы не сравниваются.
<DT><B>--exclude</B> <I>ШАБЛОН</I><DD>
Исключать исходные файлы, соответствующие расширенному <I>ШАБЛОН</I>у <I><A HREF="/man/man2html?1+bash">bash</A></I>(1).
<DT><B>--exclude-file</B> <I>ФАЙЛ</I><DD>
Исключать исходные файлы/директории, прочитанные из <I>ФАЙЛ</I>а.
<DT><B>--exclude-regex</B> <I>ШАБЛОН</I><DD>
Исключать исходные файлы, соответствующие <I>ШАБЛОН</I>у <I><A HREF="/man/man2html?3+regex">regex</A></I>(3).
<DT><B>-f</B><DD>
Продолжать выполнение в случае ошибок.
<DT><B>--failed</B> <I>FILE</I><DD>
Добавлять в <I>ФАЙЛ</I> форматированные записи для файлов и директорий, потерпевших неудачу при синхронизации.
<DT><B>-i</B><DD>
Выводить приглашение перед каждым изменением.
<DT><B>-h</B><DD>
Напечатать справку и завершить выполнение.
<DT><B>--include</B> <I>ШАБЛОН</I><DD>
Включать исходные файлы, соответствующие расширенному <I>ШАБЛОН</I>у <I><A HREF="/man/man2html?1+bash">bash</A></I>(1).
<DT><B>--include-file</B> <I>ФАЙЛ</I><DD>
Включать исходные файлы/директории, прочитанные из <I>ФАЙЛ</I>а.
<DT><B>--include-regex</B> <I>ШАБЛОН</I><DD>
Включать исходные файлы, соответствующие <I>ШАБЛОН</I>у <I><A HREF="/man/man2html?3+regex">regex</A></I>(3).
<DT><B>-l</B> <I>УРОВЕНЬ</I><DD>
Копировать вложенные директории до максимального уровня вложенности <I>УРОВЕНЬ</I> (по умолчанию <I>УРОВЕНЬ</I> равен нулю, то есть бесконечен)
<DT><B>--npsync-interface</B> <I>ФАЙЛ</I><DD>
Загрузить npsync интерфейс хранилища из <I>ФАЙЛ</I>а.
<DT><B>--omit-copy-cks-check</B><DD>
Опустить проверку контрольных сумм копируемых файлов.
<DT><B>-p</B> <I>ФАЙЛ</I><DD>
Добавлять в <I>ФАЙЛ</I> атрибуты исходных файлов и директорий.
<I>ФАЙЛ</I> может быть использован позднее с приставкой `<A HREF="npsync://'">npsync://'</A> как <I>ИСТОЧНИК</I> или <I>НАЗНАЧЕНИЕ</I>.
<DT><DD>
NB: Данная опция включает подсчёт контрольных сумм всех файлов <I>ИСТОЧНИК</I>а.
<DT><DD>
NB2: Данная опция не может быть использована одновременно с опцией `-t'.
<DT><B>-r</B><DD>
Синхронизировать и/или копировать вложенные директории рекурсивно.
<DT><B>--real-data-cks</B><DD>
Вычислять контрольную сумму реальных данных, когда возможно, вместо получения сохранённого значения
<DT><B>-s</B> <I>АТРИБУТЫ</I><DD>
Эквивалентно набору опций
<BR>

`--sync-dir-attrs <I>АТРИБУТЫ</I> --sync-file-attrs <I>АТРИБУТЫ</I>'.
<DT><B>--sync-dir-attrs</B> <I>АТРИБУТЫ</I><DD>
Синхронизировать атрибуты директорий в <I>НАЗНАЧЕНИ</I>и с атрибутами в <I>ИСТОЧНИК</I>е.
<I>АТРИБУТЫ</I> представляется как список служебных слов, разделённых запятыми (без пробелов): <I>mode</I>, <I>mtime</I>, <I>owner</I>.
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>  * <I>mode</I><DD>
биты доступа к файлу.
<DT>  * <I>mtime</I><DD>
время изменения.
<DT>  * <I>owner</I><DD>
идентификатор пользователя и группы (uid и gid).
</DL>
</DL>

<DT><B>--sync-file-attrs</B> <I>АТРИБУТЫ</I><DD>
Синхронизировать атрибуты файлов в <I>НАЗНАЧЕНИ</I>и с атрибутами в <I>ИСТОЧНИК</I>е.
<I>АТРИБУТЫ</I> представляется как список служебных слов, разделённых запятыми (без пробелов): <I>mode</I>, <I>mtime</I>, <I>owner</I>.
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>  * <I>mode</I><DD>
биты доступа к файлу.
<DT>  * <I>mtime</I><DD>
время изменения.
<DT>  * <I>owner</I><DD>
идентификатор пользователя и группы (uid и gid).
</DL>
</DL>

<DT><B>--synced</B> <I>FILE</I><DD>
Эквивалентно набору опций `--synced-dirs FILE --synced-files FILE'
<DT><B>--synced-dirs</B> <I>FILE</I><DD>
Добавлять в <I>FILE</I> имена исходных директорий, у которых синхронизируются атрибуты в <I>НАЗНАЧЕНИ</I>и.
Список, генерируемый в тестовом режиме, может отличаться поскольку:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>  *<DD>
Директории, отсутствующие в <I>НАЗНАЧЕНИ</I>и, не могут быть проверены (если передаётся опция `-c')
<DT>  *<DD>
Копирование файлов меняет время изменения родительской директории.
</DL>
</DL>

<B>--synced-files</B> <I>FILE</I>
Добавлять в <I>FILE</I> имена исходных файлов, у которых синхронизируются атрибуты в <I>НАЗНАЧЕНИ</I>и.
Список, генерируемый в тестовом режиме, может отличаться поскольку:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>  *<DD>
Файлы, отсутствующие в <I>НАЗНАЧЕНИ</I>и, не могут быть проверены (если передаётся опция `-c')
<DT>  *<DD>
Копирование файлов меняет время изменения родительской директории.
</DL>
</DL>

<DT><B>-t</B><DD>
Тестовый режим, не выполнять реальную синхронизацию и/или копирование, докладывать о потенциальных проблемах и выявлять, что необходимо синхронизировать и/или копировать.
<DT><DD>
NB: Данная опция не может быть использована одновременно с опцией `-p'.
<DT><B>-v</B><DD>
Включить многословный режим.
Несколько опций увеличивают уровень многословности.
По умолчанию уровень равен нулю, печатаются только сообщения об ошибках.
Максимум уровня многословности равняется 3.
<DT><B>--version</B><DD>
Печатать версию утилиты и завершить выполнение.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ШАБЛОНЫ И ФАЙЛЫ ВКЛЮЧЕНИЯ/ИСКЛЮЧЕНИЯ</H2>

Пути, используемые при сравнении с шаблонами, являются исходными.
Файлы exclude-file и include-file, если указаны, должны содержать пути, разделённые символом перевода строки.
Каждая опция шаблона может быть задана только один раз.
Файлы exclude-file и include-file могут быть заданы несколько раз, их содержимое добавляется.
<P>

Существуют три методики сравнения путей файлов с шаблонами: 
<DL COMPACT>
<DT>  1.<DD>
Ни шаблоны, ни exclude-file, ни include-file не заданы.
По умолчанию все файлы включаются.
<DT>  2.<DD>
Шаблон или файл исключения задан первым в командной строке. Алгоритм сравнения:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>  2.1<DD>
Включать все файлы по умолчанию.
<DT>  2.2<DD>
Если путь к файлу совпадает с каким-либо шаблоном исключения или содержится в exclude-file, то исключить его и проверить совпадает ли файл с каким-либо шаблоном включения. Если совпадает или содержится в include-file, то включить его.
</DL>
</DL>

<DT>  3.<DD>
Шаблон или файл включения задан первым в командной строке. Алгоритм сравнения:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>  3.1<DD>
Исключать все файлы по умолчанию.
<DT>  3.2<DD>
Если путь к файлу совпадает с каким-либо шаблоном включения или содержится в include-file, то включить его и проверить совпадает ли файл с каким-либо шаблоном исключения. Если совпадает или содержится в exclude-file, то исключить его.
</DL>
</DL>

</DL>
<P>

Фильтрация путей директорий работает схожим образом, только посредством exclude-file и include-file.
Сравнение путей директорий с шаблонами не выполняется.
<A NAME="lbAG">&nbsp;</A>
<H2>АСИНХРОННЫЕ СОБЫТИЯ</H2>

<P>

Поведение по умолчанию.
<A NAME="lbAH">&nbsp;</A>
<H2>КОД ВОЗВРАТА</H2>

<P>

<DL COMPACT>
<DT>124<DD>
Утилита завершена принудительно
<DT>137<DD>
Утилита убита
<DT>70<DD>
Неуспешное выполнение команды
<DT>71<DD>
Неверная опция
<DT>72<DD>
Вложенная директория
<DT>73<DD>
Слишком большой уровень вложенности директорий
<DT>74<DD>
Не обычный файл
<DT>75<DD>
Не директория
<DT>76<DD>
Несовпадение контрольных сумм файлов в источнике и назначении
<DT>77<DD>
Несовпадение контрольных сумм исходного файла и его созданной копии
<DT>78<DD>
Тип контрольной суммы не поддерживается
<DT>79<DD>
Испорченная строка в npsync-файле
<DT>80<DD>
Файл/директория назначения не существует
<DT>81<DD>
Неприемлемое имя файла/директории
<DT>82<DD>
Файлы не могут быть скопированы из каталога
<DT>83<DD>
Неверный формат mtime источника
<DT>84<DD>
Неверный формат mtime назначения
</DL>
<P>

Дополнительно смотрите код возврата используемых утилит.
<A NAME="lbAI">&nbsp;</A>
<H2>РЕЗУЛЬТАТЫ ОШИБОК</H2>

<P>

Если <I>npsync</I> преждевременно завершена по сигналу или ошибке, то файлы
и директории могут быть скопированы частично и/или иметь некорректные атрибуты.
<A NAME="lbAJ">&nbsp;</A>
<H2>ОБЛАСТЬ ПРИМЕНЕНИЯ</H2>

<P>

<B>Npsync</B> реализует небольшое подмножество свойств rsync, поэтому если <I>ИСТОЧНИК</I>(и) и <I>НАЗНАЧЕНИЕ</I> размещаются в хранилищах с POSIX интерфейсом, то использование rsync может быть более разумно.
Копирование данных всегда осуществляется с проверкой контрольных сумм подобно rsync.
Данная утилита разработана для оперирования многотерабайтными вложенными директориями, размещаемыми в хранилищах различных типов, поэтому поддерживает только обычные файлы и директории.
Расширенные атрибуты не синхронизируются.
Для оперирования ссылками, специальными файлами, расширенными атрибутами или эффективного хранения файлов малых размеров нужно использовать какой-либо архиватор.
<P>

Файл или директория <I>НАЗНАЧЕНИ</I>я игнорируется, если он отсутствует в <I>ИСТОЧНИК</I>е.
В противном случае возникает ошибка.
Если <I>ИСТОЧНИК</I> один, то перестановка местами его с <I>НАЗНАЧЕНИЕ</I>м и запуск утилиты в тестовой моде позволяет определить файлы и директории, отсутствующие в <I>ИСТОЧНИК</I>е, например:
<DL COMPACT>
<DT><DD>
npsync -a -t -f a/b/item c/d
<DT><DD>
npsync -a -t -f c/d/item a/b
</DL>
<P>

Будьте осторожны, синхронизация атрибутов может поменять время изменения директорий <I>НАЗНАЧЕНИ</I>я, поэтому какой-либо файл в <I>НАЗНАЧЕНИ</I>и может стать новее своей родительской директории.
<P>

Каталог может быть использован как <I>ИСТОЧНИК</I> или <I>НАЗНАЧЕНИЕ</I>.
Единственная разница с хранилищем заключается в невозможности копирования файлов из каталога-источника, поскольку каталог не хранит файлов.
Создание директорий возможно для каталога-источника с помощью опций `-r --create-dirs -f', но после создания время изменения директорий может отличаться от оригинала, поскольку атрибуты родительских директорий могут быть синхронизированы перед созданием потомков.
Поэтому после создания директорий необходимо синхронизовать время изменения с помощью опций `-r -s mtime -f'.
<P>

Некоторые хранилища предоставляют контрольную сумму как атрибут файла (например, CASTOR).
Если такая контрольная сумма предоставляется, то она используется по умолчанию.
Чтобы принудить вычисление контрольной суммы реальных данных, необходимо использовать опцию `--real-data-cks' (например, чтобы проверить целостность реальных данных на носителе информации).
Используйте данную опцию нечасто, чтобы продлить срок службы хранилища.
<P>

Текущая версия данной утилиты поддерживает тип контрольной суммы <I>adler32</I>.
<P>

Иерархическая система хранения может предоставлять утилиту для предзагрузки указанных файлов на диск с лент, чтобы переупорядочить операции с лентами оптимальным образом.
CASTOR предоставляет утилиту `stager_get', чтобы уменьшить общее время доступа к файлам, мигрировавшим на ленты.
Вначале необходимо создать список требуемых файлов с помощью опции `--copied-files'.
В примере ниже SRC это абсолютный CASTOR путь:
<DL COMPACT>
<DT><DD>
npsync -a -t --copied-files FILELIST SRC DST
</DL>
<P>

Требуемые файлы должны быть предзагружены:
<DL COMPACT>
<DT><DD>
stager_get -f FILELIST -U mytag
</DL>
<P>

Предзагрузка производится асинхронно.
Для получения статуса предзагруженных файлов необходимо использовать утилиту `stager_qry':
<DL COMPACT>
<DT><DD>
stager_qry -U mytag
</DL>
<P>

Наконец осуществляется доступ к предзагруженным файлам:
<DL COMPACT>
<DT><DD>
npsync -a SRC DST
</DL>
<P>

Опция `--aux-npsync' может быть использована при синхронизации для получения атрибутов и контрольных сумм из каталога вместо хранилища.
В этом случае число необходимых операций ввода-вывода значительно уменьшается.
<P>

Опция `--omit-copy-cks-check' предназначена для продвинутой оптимизации.
Она выключает подсчёт исходной контрольной суммы и сравнение её с контрольной суммой копии и обычно не должна использоваться.
Корректная оптимизация должна выполнять сравнение контрольных сумм на дополнительной стадии после передачи с помощью каталога на стороне назначения локально или с помощью значения предоставляемого хранилищем.
Это может помочь уменьшить нагрузку на канал передачи между источником и назначением в два раза и более.
<P>

Опция `--failed' предназначена для автоматизации обработки ошибок.
Генерируемый файл содержит записи в формате:
<DL COMPACT>
<DT><DD>
&lt;error num&gt; &lt;utility&gt; &lt;source item&gt; &lt;destination item&gt;
</DL>
<P>

Поле &lt;error num&gt; содержит номер ошибки.
Поле &lt;utility&gt; содержит путь к утилите или '-'.
Поля &lt;source item&gt; и &lt;destination item&gt; содержат форматированные пути к исходному и назначенному файлу или директории соответственно.
В двух случаях пути могут запутать:
<DL COMPACT>
<DT>  *<DD>
&lt;destination item&gt; может быть пустым, если ошибка произошла с исходным файлом или директорией.
<DT>  *<DD>
&lt;source item&gt; может указывать директорию, содержащую потомка с неправильным именем.
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>ПРИМЕРЫ</H2>

<DL COMPACT>
<DT> 1.<DD>
Сравнение атрибутов.
Атрибуты назначения сравниваются с исходными.
Вариант использования для обнаружения атрибутов назначения, требующих синхронизации:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -r -t -f -s mode,mtime,owner SRC DST

</DL>
</DL>

<DT> 2.<DD>
Обычное сравнение.
Докладываются потенциальные проблемы и обнаруживается какие исходные файлы и директории должны быть скопированы.
Вариант использования для обнаружения файлов и директорий, добавленных или обновлённых в источнике:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -a -t -f SRC DST

</DL>
</DL>

<DT> 3.<DD>
Полное сравнение.
Производится вычисление и сравнение контрольных сумм каждой пары файлов в источнике и назначении.
Вариант использования для обнаружения ошибок типа &quot;тихая порча данных&quot;:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -r -t -f -d mtime,size,cks SRC DST

</DL>
</DL>

<DT> 4.<DD>
Синхронизация атрибутов.
Синхронизируются атрибуты назначения с исходными.
Вариант использования для восстановления атрибутов если они были утеряны (например, CASTOR хранит время изменения с минутным разрешением, поэтому секунды могут быть восстановлены после копирования данных из CASTOR):
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -r -s mode,mtime,owner -v SRC DST &amp;&gt; DST.out

<DT>NB:<DD>
Будьте осторожны, устаревшее назначение после синхронизации атрибутов не может быть обновлено с помощью обычного зеркалирования.
Только полное зеркалирование или сравнение могут обнаружить несовпадающие файлы.
</DL>
</DL>

<DT> 5.<DD>
Обычное зеркалирование.
Вариант использования для устаревшего назначения:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -a -v -v SRC DST &amp;&gt; DST.out

<DT>NB:<DD>
Каталог как источник обеспечивает только сравнение с атрибутами назначения.
Файлы назначения не могут быть заменены.
</DL>
</DL>

<DT> 6.<DD>
Полное зеркалирование.
Производится вычисление и сравнение контрольных сумм каждой пары файлов в источнике и назначении.
Файл назначения заменяется исходным если их контрольные суммы различны.
Исходные файлы и директории, отсутствующие в назначении, не копируются, выводится только сообщение об ошибке.
Вариант использования для восстановления данных из источника (резервного хранилища) в случае возникновения ошибок хранения в назначении (например, ошибок типа &quot;тихая порча данных&quot;):
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -r -c -d mtime,size,cks -v -v SRC DST &amp;&gt; DST.out

<DT>NB:<DD>
Каталог как источник обеспечивает только сравнение с атрибутами назначения.
Файлы назначения не могут быть заменены.
</DL>
</DL>

<DT> 7.<DD>
Интерактивный выбор зеркалируемых файлов и директорий.
Вариант использования для ускоренного интерактивного выбора файлов и директорий посредством двухстадийного выполнения.
На первой стадии интерактивно создаётся список зеркалируемых файлов и директорий.
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -a -t -i --copied FILE SRC DST

</DL>
</DL>

<DT><DD>
На второй стадии выполняется зеркалирование:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -a --include-file FILE SRC DST

</DL>
</DL>

<DT> 8.<DD>
Создание каталога.
Каталог может быть использован как источник или назначение.
Единственная разница с хранилищем заключается в невозможности копирования файлов из каталога-источника, поскольку каталог не хранит файлов.
Вариант использования для создания каталога:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -a SRC <A HREF="npsync://SRC.npsync">npsync://SRC.npsync</A>

</DL>
</DL>

<DT> 9.<DD>
Очистка каталога.
Файл используемый с опцией -p не пересоздаётся, поэтому, использованный несколько раз с модифицированным источником, может содержать несколько устаревших строк для одного и того же файла или директории.
Если история изменения не важна, то устаревшие строки могут быть удалены.
Вариант использования для создания копии каталога без устаревших строк:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync <A HREF="npsync://file.npsync">npsync://file.npsync</A> <A HREF="npsync://copy.npsync">npsync://copy.npsync</A>

<DT>NB:<DD>
Порядок записей в каталоге может измениться после его модификации.
</DL>
</DL>

<DT> 10.<DD>
Полное сравнение в офлайн.
Каталог может быть использован для сравнения подобно хранилищу как источник или назначение без ограничений.
Более того, сравнение в этом случае заметно ускоряется, поскольку не требуется выполнять множество операций ввода-вывода для получения атрибутов и контрольных сумм.
Вариант использования для полного сравнения посредством только каталогов:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><DD>

npsync -d mtime,size,cks -s mode,mtime,owner -t <A HREF="npsync://first.npsync">npsync://first.npsync</A> <A HREF="npsync://second.npsync">npsync://second.npsync</A>

<DT>NB:<DD>
Тест эквивалентности может быть выполнен ещё быстрее сравнением контрольных сумм самих каталогов.
В этом случае необходимо удалить устаревшие записи из каталогов вышеописанныи способом и вычислить и сравнить контрольные суммы для отсортированных каталогов:
<DT><DD>

sort -n catalogue|md5sum

</DL>
</DL>

</DL>
<A NAME="lbAL">&nbsp;</A>
<H2>ОШИБКИ</H2>

<B>Npsync</B> не принимает имена с символом перевода на новую строку  '\n'.
Данный символ используется как внутренний разделитель полей (IFS) при получении содержимого директорий.
<A NAME="lbAM">&nbsp;</A>
<H2>НАПРАВЛЕНИЯ РАЗВИТИЯ</H2>

Список реализованных интерфейсов хранилищ включает POSIX-совместимые файловые системы, иерархическую систему хранения CASTOR, каталог NPSYNC.
Интерфейсы к хранилищам реализованы посредством виртуальных функций к утилитам хранилищ, поэтому <B>npsync</B> спроектирован с целью лёгкого расширения списка интерфейсов для хранилищ любого типа, имеющих древоподобное представление содержимого посредством интерфейсных утилит.
Список возможных ситуаций включает:
<DL COMPACT>
<DT>  *<DD>
Хранилище без POSIX интерфейса с интерфейсными утилитами (например, удалённое, облачное хранилище).
<DT>  *<DD>
Файловая система с неработающим или отсутствующим драйвером операционной системы.
Необходимы интерфейсные утилиты, обеспечивающие доступ без драйвера.
<DT>  *<DD>
Файловая система, реализованная посредством FUSE.
Интерфейсные утилиты могут обходить FUSE для ускорения доступа к ФС.
<DT>  *<DD>
Имена директорий и файлов могут быть конвертированы каким-либо образом функцией интерфейса хранилища _item_path во время синхронизации.
Таким образом интерфейс хранилища мог бы обеспечить специальное образование пути или перевод имён с одного языка на другой.
<DT>  *<DD>
Данная утилита написана на bash и может быть легко адаптирована пользователем, например, для выполнения дополнительных операций во время синхронизации или сравнения.
</DL>
<A NAME="lbAN">&nbsp;</A>
<H2>СМОТРИТЕ ТАКЖЕ</H2>

<DL COMPACT>
<DT>POSIX FS: <DD>
<I>cp</I>, <I>ls</I>, <I>mkdir</I>, <I>touch</I>, <I>chmod</I>, <I>chown</I>, <I>stat</I>, <I>rm</I>
<DT>CASTOR: <DD>
<I>rfcp</I>, <I>rfcat</I>, <I>nsls</I>, <I>nsmkdir</I>, <I>nstouch</I>, <I>nssetchecksum</I>, <I>nschmod</I>, <I>nschown</I>, <I>rfstat</I>, <I>nsrm</I>
</DL>
<A NAME="lbAO">&nbsp;</A>
<H2>КОПИРАЙТ</H2>

Copyright &#169; 2013-2015 Алексей Филин.
Лицензия GPLv3+: GNU GPL версии 3 или более поздней &lt;<A HREF="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</A>&gt;.
<BR>

Эта программа распространяется БЕЗ ВСЯКИХ ГАРАНТИЙ. Это свободное программное обеспечение, и Вы можете распространять её в соответствии с конкретными условиями.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">ИМЯ</A><DD>
<DT><A HREF="#lbAC">ОБЗОР</A><DD>
<DT><A HREF="#lbAD">ОПИСАНИЕ</A><DD>
<DT><A HREF="#lbAE">ОПЦИИ</A><DD>
<DT><A HREF="#lbAF">ШАБЛОНЫ И ФАЙЛЫ ВКЛЮЧЕНИЯ/ИСКЛЮЧЕНИЯ</A><DD>
<DT><A HREF="#lbAG">АСИНХРОННЫЕ СОБЫТИЯ</A><DD>
<DT><A HREF="#lbAH">КОД ВОЗВРАТА</A><DD>
<DT><A HREF="#lbAI">РЕЗУЛЬТАТЫ ОШИБОК</A><DD>
<DT><A HREF="#lbAJ">ОБЛАСТЬ ПРИМЕНЕНИЯ</A><DD>
<DT><A HREF="#lbAK">ПРИМЕРЫ</A><DD>
<DT><A HREF="#lbAL">ОШИБКИ</A><DD>
<DT><A HREF="#lbAM">НАПРАВЛЕНИЯ РАЗВИТИЯ</A><DD>
<DT><A HREF="#lbAN">СМОТРИТЕ ТАКЖЕ</A><DD>
<DT><A HREF="#lbAO">КОПИРАЙТ</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 09:05:08 GMT, March 04, 2015
</BODY>
</HTML>
